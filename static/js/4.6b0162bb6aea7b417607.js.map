{"version":3,"sources":["webpack:///src/view/MemberCenter.vue","webpack:///./src/view/MemberCenter.vue?5670","webpack:///./src/view/MemberCenter.vue"],"names":["MemberCenter","name","data","balance","computed","currentPhoneNumber","this","$route","query","phoneNumber","created","init","methods","countBalance","alert","$router","push","goRechargePage","goMyOrder","phone","rechargeDataList","data_default","a","rechargeData","rechargeTotal","i","length","amount","orderDataList","orderData","orderTotal","_i","_item","payType","totalPrice","logout","view_MemberCenter","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","title","_v","_s","on","click","xmlns","viewBox","d","plain","type","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.6b0162bb6aea7b417607.js","sourcesContent":["<template>\n  <div class=\"member-center\">\n    <van-nav-bar\n      title=\"会员中心\"\n    />\n\n    <div class=\"div-header\"></div>\n\n    <div class=\"div-content\">\n      <div class=\"div-card-box\">\n        <div class=\"div-card-box-line\">\n          <span class=\"span-line-label\">手机号</span>\n          <span class=\"span-line-value\">{{ currentPhoneNumber }}</span>\n        </div>\n\n        <div class=\"div-card-box-line\">\n          <span class=\"span-line-label\">余额</span>\n          <span class=\"span-line-value\">￥{{ balance }}</span>\n        </div>\n      </div>\n\n      <div class=\"div-card-box\">\n        <div @click=\"goMyOrder\" class=\"div-card-box-line\">\n          <span class=\"span-line-label\">我的订单</span>\n          <span class=\"span-line-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path\n              d=\"M13.1714 12.0007L8.22168 7.05093L9.63589 5.63672L15.9999 12.0007L9.63589 18.3646L8.22168 16.9504L13.1714 12.0007Z\"></path></svg>\n          </span>\n        </div>\n\n        <div @click=\"goRechargePage\" class=\"div-card-box-line\">\n          <span class=\"span-line-label\">充值明细</span>\n          <span class=\"span-line-icon\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\"><path\n              d=\"M13.1714 12.0007L8.22168 7.05093L9.63589 5.63672L15.9999 12.0007L9.63589 18.3646L8.22168 16.9504L13.1714 12.0007Z\"></path></svg>\n          </span>\n        </div>\n      </div>\n\n      <div class=\"div-button-bar\">\n        <van-button @click=\"logout\" class=\"button-logout\" plain type=\"danger\">退出登录</van-button>\n      </div>\n\n    </div>\n\n    <div class=\"div-footer\">岩归正传茶叶</div>\n  </div>\n</template>\n\n<script>\nimport rawData from \"@/utils/data.json\";\n\nexport default {\n  name: 'MemberCenter',\n  data() {\n    return {\n      balance: 0,\n    }\n  },\n  computed: {\n    currentPhoneNumber() {\n      return this.$route.query.phoneNumber\n    },\n  },\n  created() {\n    this.init()\n  },\n  methods: {\n    init() {\n      const phone = this.$route.query.phoneNumber\n      if (phone) {\n        this.countBalance()\n      } else {\n        alert('请先登录')\n        this.$router.push({\n          name: 'LoginPage',\n        })\n      }\n    },\n    goRechargePage() {\n      this.$router.push({\n        name: 'RechargeDetail',\n        query: {\n          phoneNumber: this.currentPhoneNumber,\n        },\n      })\n    },\n    goMyOrder() {\n      this.$router.push({\n        name: 'MyOrder',\n        query: {\n          phoneNumber: this.currentPhoneNumber,\n        },\n      })\n    },\n    // 计算充值余额\n    countBalance() {\n      const phone = this.$route.query.phoneNumber\n      // 计算充值总金额\n      const rechargeData = rawData.rechargeData || {}\n      const rechargeDataList = rechargeData[phone] || []\n      let rechargeTotal = 0\n      for (let i = 0; i < rechargeDataList.length; i++) {\n        const item = rechargeDataList[i]\n        rechargeTotal += item.amount\n      }\n      // 计算消费总金额\n      const orderData = rawData.orderData || {}\n      const orderDataList = orderData[phone] || []\n      let orderTotal = 0\n      for (let i = 0; i < orderDataList.length; i++) {\n        const item = orderDataList[i]\n        if (item.payType === \"余额\") {\n          orderTotal += item.totalPrice\n        }\n      }\n      // 计算余额\n      const balance = rechargeTotal - orderTotal\n      this.balance = balance || 0\n    },\n    // 退出登录\n    logout() {\n      this.$router.push({\n        name: 'HomePage',\n      })\n    },\n  },\n}\n</script>\n\n<style scoped>\n.member-center {\n  position: relative;\n  background-color: #eee;\n  padding-bottom: 20px;\n}\n\n.div-header {\n  position: relative;\n  width: 100%;\n  height: 160px;\n  background: no-repeat center;\n  background-size: cover;\n  background-image: url(\"../assets/img/logo-banner.gif\");\n}\n\n.div-content {\n  padding: 10px;\n  padding-top: 0;\n}\n\n.div-card-box {\n  margin-top: 10px;\n  border-radius: 8px;\n  padding: 0 24px;\n  background-color: #fff;\n}\n\n.div-card-box-line {\n  display: flex;\n  justify-content: space-between;\n  padding: 16px 0;\n  border-bottom: 1px solid #ccc;\n  font-size: 16px;\n}\n\n.span-line-label {\n  color: #333;\n}\n\n.span-line-value {\n  color: #999;\n  font-weight: 400;\n}\n\n.span-line-icon {\n  display: inline-block;\n  width: 24px;\n  height: 24px;\n  vertical-align: middle;\n  fill: #999;\n  font-size: 20px;\n}\n\n.div-card-box-line:last-child {\n  border-bottom: none;\n}\n\n.div-button-bar {\n  margin-top: 20px;\n}\n\n.div-footer {\n  margin: 40px auto;\n  text-align: center;\n  color: #999;\n}\n\n.button-logout {\n  width: 100%;\n  border-radius: 8px;\n  border: none;\n  font-weight: normal;\n}\n\n.member-center >>> .van-nav-bar {\n  background-color: #977961;\n}\n\n.member-center >>> .van-nav-bar__title {\n  color: #fff;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/MemberCenter.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"member-center\"},[_c('van-nav-bar',{attrs:{\"title\":\"会员中心\"}}),_vm._v(\" \"),_c('div',{staticClass:\"div-header\"}),_vm._v(\" \"),_c('div',{staticClass:\"div-content\"},[_c('div',{staticClass:\"div-card-box\"},[_c('div',{staticClass:\"div-card-box-line\"},[_c('span',{staticClass:\"span-line-label\"},[_vm._v(\"手机号\")]),_vm._v(\" \"),_c('span',{staticClass:\"span-line-value\"},[_vm._v(_vm._s(_vm.currentPhoneNumber))])]),_vm._v(\" \"),_c('div',{staticClass:\"div-card-box-line\"},[_c('span',{staticClass:\"span-line-label\"},[_vm._v(\"余额\")]),_vm._v(\" \"),_c('span',{staticClass:\"span-line-value\"},[_vm._v(\"￥\"+_vm._s(_vm.balance))])])]),_vm._v(\" \"),_c('div',{staticClass:\"div-card-box\"},[_c('div',{staticClass:\"div-card-box-line\",on:{\"click\":_vm.goMyOrder}},[_c('span',{staticClass:\"span-line-label\"},[_vm._v(\"我的订单\")]),_vm._v(\" \"),_c('span',{staticClass:\"span-line-icon\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M13.1714 12.0007L8.22168 7.05093L9.63589 5.63672L15.9999 12.0007L9.63589 18.3646L8.22168 16.9504L13.1714 12.0007Z\"}})])])]),_vm._v(\" \"),_c('div',{staticClass:\"div-card-box-line\",on:{\"click\":_vm.goRechargePage}},[_c('span',{staticClass:\"span-line-label\"},[_vm._v(\"充值明细\")]),_vm._v(\" \"),_c('span',{staticClass:\"span-line-icon\"},[_c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 24 24\"}},[_c('path',{attrs:{\"d\":\"M13.1714 12.0007L8.22168 7.05093L9.63589 5.63672L15.9999 12.0007L9.63589 18.3646L8.22168 16.9504L13.1714 12.0007Z\"}})])])])]),_vm._v(\" \"),_c('div',{staticClass:\"div-button-bar\"},[_c('van-button',{staticClass:\"button-logout\",attrs:{\"plain\":\"\",\"type\":\"danger\"},on:{\"click\":_vm.logout}},[_vm._v(\"退出登录\")])],1)]),_vm._v(\" \"),_c('div',{staticClass:\"div-footer\"},[_vm._v(\"岩归正传茶叶\")])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-801cb700\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/view/MemberCenter.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-801cb700\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./MemberCenter.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MemberCenter.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./MemberCenter.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-801cb700\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./MemberCenter.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-801cb700\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/MemberCenter.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}